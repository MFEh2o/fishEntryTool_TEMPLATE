timeSampleString
gear
metadataID
nrow(curData)
paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_")
rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData))
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData))
projectID=rep(projectID,nrow(curData))
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_")
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA
species=if("species"%in%colnames(curData)) curData$species else NA
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA
sex=if("sex"%in%colnames(curData)) curData$sex else NA
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA
removed=if("removed"%in%colnames(curData)) curData$removed else NA
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA
photo=if("photo"%in%colnames(curData)) curData$photo else NA
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA
comments=if("comments"%in%colnames(curData)) curData$comments else NA
entryFile=toCompile[i]
projectID
sampleID
fishID
fishNum
species
fishLength
standardLength
fishWeight
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA,
species=if("species"%in%colnames(curData)) curData$species else NA,
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA,
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA,
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA,
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA,
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA,
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA,
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA,
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA,
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA,
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA,
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA,
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA,
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA,
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA,
sex=if("sex"%in%colnames(curData)) curData$sex else NA,
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA,
removed=if("removed"%in%colnames(curData)) curData$removed else NA,
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA,
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA,
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA,
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA,
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA,
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA,
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA,
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA,
photo=if("photo"%in%colnames(curData)) curData$photo else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA,
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA,
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA,
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA,
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA,
comments=if("comments"%in%colnames(curData)) curData$comments else NA,
#entryFile=toCompile[i],
stringsAsFactors=FALSE)
curData
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA,
species=if("species"%in%colnames(curData)) curData$species else NA,
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA,
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA,
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA,
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA,
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA,
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA,
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA,
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA,
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA,
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA,
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA,
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA,
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA,
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA,
sex=if("sex"%in%colnames(curData)) curData$sex else NA,
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA,
removed=if("removed"%in%colnames(curData)) curData$removed else NA,
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA,
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA,
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA,
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA,
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA,
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA,
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA,
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA,
photo=if("photo"%in%colnames(curData)) curData$photo else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA,
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA,
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA,
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA,
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA,
comments=if("comments"%in%colnames(curData)) curData$comments else NA,
entryFile=toCompile[i],
stringsAsFactors=FALSE)
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA,
species=if("species"%in%colnames(curData)) curData$species else NA,
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA,
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA,
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA,
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA,
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA,
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA,
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA,
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA,
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA,
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA,
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA,
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA,
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA,
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA,
sex=if("sex"%in%colnames(curData)) curData$sex else NA,
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA,
removed=if("removed"%in%colnames(curData)) curData$removed else NA,
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA,
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA,
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA,
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA,
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA,
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA,
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA,
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA,
photo=if("photo"%in%colnames(curData)) curData$photo else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA,
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA,
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA,
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA,
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA,
comments=if("comments"%in%colnames(curData)) curData$comments else NA,
entryFile=toCompile[i],
stringsAsFactors=FALSE)
paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_")
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA,
species=if("species"%in%colnames(curData)) curData$species else NA,
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA,
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA,
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA,
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA,
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA,
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA,
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA,
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA,
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA,
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA,
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA,
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA,
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA,
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA,
sex=if("sex"%in%colnames(curData)) curData$sex else NA,
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA,
removed=if("removed"%in%colnames(curData)) curData$removed else NA,
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA,
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA,
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA,
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA,
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA,
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA,
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA,
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA,
photo=if("photo"%in%colnames(curData)) curData$photo else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA,
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA,
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA,
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA,
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA,
comments=if("comments"%in%colnames(curData)) curData$comments else NA,
#entryFile=toCompile[i],
stringsAsFactors=FALSE)
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else rep(NA, nrow(curData)),
species=if("species"%in%colnames(curData)) curData$species else rep(NA, nrow(curData)),
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else rep(NA, nrow(curData)),
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else rep(NA, nrow(curData)),
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else rep(NA, nrow(curData)),
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else rep(NA, nrow(curData)),
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else rep(NA, nrow(curData)),
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else rep(NA, nrow(curData)),
tagID=if("tagID"%in%colnames(curData)) curData$tagID else rep(NA, nrow(curData)),
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else rep(NA, nrow(curData)),
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else rep(NA, nrow(curData)),
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else rep(NA, nrow(curData)),
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else rep(NA, nrow(curData)),
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else rep(NA, nrow(curData)),
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else rep(NA, nrow(curData)),
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else rep(NA, nrow(curData)),
sex=if("sex"%in%colnames(curData)) curData$sex else rep(NA, nrow(curData)),
mortality=if("mortality"%in%colnames(curData)) curData$mortality else rep(NA, nrow(curData)),
removed=if("removed"%in%colnames(curData)) curData$removed else rep(NA, nrow(curData)),
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else rep(NA, nrow(curData)),
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else rep(NA, nrow(curData)),
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else rep(NA, nrow(curData)),
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else rep(NA, nrow(curData)),
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else rep(NA, nrow(curData)),
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else rep(NA, nrow(curData)),
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else rep(NA, nrow(curData)),
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else rep(NA, nrow(curData)),
photo=if("photo"%in%colnames(curData)) curData$photo else rep(NA, nrow(curData)),
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else rep(NA, nrow(curData)),
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else rep(NA, nrow(curData)),
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else rep(NA, nrow(curData)),
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else rep(NA, nrow(curData)),
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else rep(NA, nrow(curData)),
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else rep(NA, nrow(curData)),
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else rep(NA, nrow(curData)),
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else rep(NA, nrow(curData)),
comments=if("comments"%in%colnames(curData)) curData$comments else rep(NA, nrow(curData)),
entryFile=toCompile[i],
stringsAsFactors=FALSE)
if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else rep(NA, nrow(curData))
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else rep(NA, nrow(curData))
rep(projectID,nrow(curData))
projectID=rep(projectID,nrow(curData))
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else rep(NA, nrow(curData)),
species=if("species"%in%colnames(curData)) curData$species else rep(NA, nrow(curData)),
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else rep(NA, nrow(curData)),
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else rep(NA, nrow(curData)),
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else rep(NA, nrow(curData)),
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else rep(NA, nrow(curData)),
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else rep(NA, nrow(curData)),
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else rep(NA, nrow(curData)),
tagID=if("tagID"%in%colnames(curData)) curData$tagID else rep(NA, nrow(curData)),
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else rep(NA, nrow(curData)),
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else rep(NA, nrow(curData)),
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else rep(NA, nrow(curData)),
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else rep(NA, nrow(curData)),
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else rep(NA, nrow(curData)),
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else rep(NA, nrow(curData)),
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else rep(NA, nrow(curData)),
sex=if("sex"%in%colnames(curData)) curData$sex else rep(NA, nrow(curData)),
mortality=if("mortality"%in%colnames(curData)) curData$mortality else rep(NA, nrow(curData)),
removed=if("removed"%in%colnames(curData)) curData$removed else rep(NA, nrow(curData)),
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else rep(NA, nrow(curData)),
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else rep(NA, nrow(curData)),
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else rep(NA, nrow(curData)),
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else rep(NA, nrow(curData)),
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else rep(NA, nrow(curData)),
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else rep(NA, nrow(curData)),
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else rep(NA, nrow(curData)),
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else rep(NA, nrow(curData)),
photo=if("photo"%in%colnames(curData)) curData$photo else rep(NA, nrow(curData)),
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else rep(NA, nrow(curData)),
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else rep(NA, nrow(curData)),
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else rep(NA, nrow(curData)),
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else rep(NA, nrow(curData)),
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else rep(NA, nrow(curData)),
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else rep(NA, nrow(curData)),
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else rep(NA, nrow(curData)),
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else rep(NA, nrow(curData)),
comments=if("comments"%in%colnames(curData)) curData$comments else rep(NA, nrow(curData)),
entryFile=toCompile[i],
stringsAsFactors=FALSE)
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
projectID=rep(projectID,nrow(curData))
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData))
cbind(sampleID, projectID)
cbind(projectID,sampleID)
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
cbind(projectID=rep(projectID,nrow(curData)),sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)))
# generate FISH_INFO rows
fishInfoNEW=data.frame(projectID=rep(projectID,nrow(curData)),
sampleID=rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData)),
fishID=paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,curData$fishNum,sep="_"),
fishNum=if("fishNum"%in%colnames(curData)) as.numeric(curData$fishNum) else NA,
species=if("species"%in%colnames(curData)) curData$species else NA,
fishLength=if("fishLength"%in%colnames(curData)) curData$fishLength else NA,
standardLength=if("standardLength"%in%colnames(curData)) curData$standardLength else NA,
fishWeight=if("fishWeight"%in%colnames(curData)) curData$fishWeight else NA,
caughtBy=if("caughtBy"%in%colnames(curData)) curData$caughtBy else NA,
jumperDescription=if("jumperDescription"%in%colnames(curData)) curData$jumperDescription else NA,
useTagMarkRecap=if("useTagMarkRecap"%in%colnames(curData)) curData$useTagMarkRecap else NA,
tagID=if("tagID"%in%colnames(curData)) curData$tagID else NA,
oldTag=if("oldTag"%in%colnames(curData)) curData$oldATag else NA,
tagApply=if("tagApply"%in%colnames(curData)) curData$tagApply else NA,
tagRecapture=if("tagRecapture"%in%colnames(curData)) curData$tagRecapture else NA,
tagApplyType=if("tagApplyType"%in%colnames(curData)) curData$tagApplyType else NA,
tagRecaptureType=if("tagRecaptureType"%in%colnames(curData)) curData$tagRecaptureType else NA,
clipApply=if("clipApply"%in%colnames(curData)) curData$clipApply else NA,
clipRecapture=if("clipRecapture"%in%colnames(curData)) curData$clipRecapture else NA,
sex=if("sex"%in%colnames(curData)) curData$sex else NA,
mortality=if("mortality"%in%colnames(curData)) curData$mortality else NA,
removed=if("removed"%in%colnames(curData)) curData$removed else NA,
otolithSample=if("otolithSample"%in%colnames(curData)) curData$otolithSample else NA,
tissueSampled=if("tissueSampled"%in%colnames(curData)) curData$tissueSampled else NA,
dietSampled=if("dietSampled"%in%colnames(curData)) curData$dietSampled else NA,
stomachRemoved=if("stomachRemoved"%in%colnames(curData)) curData$stomachRemoved else NA,
gillArchRemoved=if("gillArchRemoved"%in%colnames(curData)) curData$gillArchRemoved else NA,
pectoralFinRemoved=if("pectoralFinRemoved"%in%colnames(curData)) curData$pectoralFinRemoved else NA,
gonadRemoved=if("gonadRemoved"%in%colnames(curData)) curData$gonadRemoved else NA,
leftEyeRemoved=if("leftEyeRemoved"%in%colnames(curData)) curData$leftEyeRemoved else NA,
photo=if("photo"%in%colnames(curData)) curData$photo else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
rectalTemp=if("rectalTemp"%in%colnames(curData)) curData$rectalTemp else NA,
gonadSqueze=if("gonadSqueze"%in%colnames(curData)) curData$gonadSqueze else NA,
sexualStage_MaierScale=if("sexualStage_MaierScale"%in%colnames(curData)) curData$sexualStage_MaierScale else NA,
gonadWeight=if("gonadWeight"%in%colnames(curData)) curData$gonadWeight else NA,
finClipBox=if("finClipBox"%in%colnames(curData)) curData$finClipBox else NA,
spineSample=if("spineSample"%in%colnames(curData)) curData$spineSample else NA,
scaleSample=if("scaleSample"%in%colnames(curData)) curData$scaleSample else NA,
comments=if("comments"%in%colnames(curData)) curData$comments else NA,
entryFile=toCompile[i],
stringsAsFactors=FALSE)
rep(paste(lakeID,siteName,dateSampleString,timeSampleString,gear,metadataID,sep="_"),nrow(curData))
# add a check that these are non-empty springs or stop and tell user the header info is incomplete
headerVals=c(projectID,lakeID,siteName,dateTimeSet,dateTimeSample,crew,gear,distanceShocked,effort,effortUnits,comments,useCPUE,dataRecorder,dataEnteredBy,metadataID,useSampleMarkRecap,sampleGroup)
if(any(headerVals=="",na.rm=TRUE)){
headerText=c("projectID","lakeID","siteName","dateTimeSet","dateTimeSample","crew","gear","distanceShocked","effort","effortUnits","comments","useCPUE","dataRecorder","dataEnteredBy","metadataID","useSampleMarkRecap","sampleGroup")
stop(paste("required header information is incomplete; you're missing: ",headerText[headerVals==""],sep=","))
}
projectID=as.numeric(strsplit(cur[1],",")[[1]][2])
lakeID=strsplit(cur[2],",")[[1]][2]
siteName=strsplit(cur[3],",")[[1]][2]
dateTimeSet=strsplit(cur[4],",")[[1]][2]
dateTimeSet=paste(dateTimeSet,":00",sep="")
dateTimeSample=strsplit(cur[5],",")[[1]][2]
dateTimeSample=paste(dateTimeSample,":00",sep="")
crew=gsub("[\"]", "", cur[6])
crew=strsplit(crew,",")[[1]]
crew=crew[-1];crew=crew[crew!=""]
crew=paste(crew, collapse = ",")
gear=strsplit(cur[7],",")[[1]][2]
distanceShocked=strsplit(cur[8],",")[[1]][2]
effort=as.numeric(strsplit(cur[9],",")[[1]][2])
effortUnits=strsplit(cur[10],",")[[1]][2]
comments=strsplit(cur[11],",")[[1]][2]
useCPUE=strsplit(cur[12],",")[[1]][2]
dataRecorder=strsplit(cur[13],",")[[1]][2]
dataEnteredBy=strsplit(cur[14],",")[[1]][2]
metadataID=strsplit(cur[15],",")[[1]][2]
useSampleMarkRecap=strsplit(cur[16],",")[[1]][2]
sampleGroup=strsplit(cur[17],",")[[1]][2]
# add a check that these are non-empty springs or stop and tell user the header info is incomplete
headerVals=c(projectID,lakeID,siteName,dateTimeSet,dateTimeSample,crew,gear,distanceShocked,effort,effortUnits,comments,useCPUE,dataRecorder,dataEnteredBy,metadataID,useSampleMarkRecap,sampleGroup)
if(any(headerVals=="",na.rm=TRUE)){
headerText=c("projectID","lakeID","siteName","dateTimeSet","dateTimeSample","crew","gear","distanceShocked","effort","effortUnits","comments","useCPUE","dataRecorder","dataEnteredBy","metadataID","useSampleMarkRecap","sampleGroup")
stop(paste("required header information is incomplete; you're missing: ",headerText[headerVals==""],sep=","))
}
